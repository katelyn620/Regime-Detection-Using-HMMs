# Regime Detection in Financial Markets Using Hidden Markov Models
Financial markets frequently transition between distinct behavioral regimes that are difficult to detect in real time. Accurately identifying market regimes can enhance risk management, improve allocation timing, and provide more stable trading signals. This project investigates whether a two-, three-, or four-state Hidden Markov Model (HMM) applied to 26 years of historical SPY price data can uncover these latent structures and offer actionable insights.

Unobserved market regimes can be inferred by using a Gaussian HMM to model daily returns and volatility-based features. The analysis uses 26 years of historical SPY data and evaluates how well the model distinguishes between trend-following and risk-off environments. Regime characteristics are quantified, and a simple backtest is performed to assess practical usefulness.

A four-state HMM appears to be the best-fit model for the SPY data, but may be overfit. Regimes are classified as Bull, Bear, Sideways (high volatility leaning toward Bull), and HighVol (high volatility leaning toward Bear). A three-state HMM is the next best option if the four-state HMM is overfit, where regimes are classified as Bull, Bear, and Sideways (high volatility). Return vs. Volatility is visualized with sections highlighted to showcase major financial events, and a backtest is performed to assess the real-world usefulness of the model. The sideways regime appears to indicate a warning that a potential bear regime may be approaching. Once the regime switches to bull, it's safe to invest until the next sideways regime. The backtest shows whether the model is under- or overperforming the historical SPY data and is following the historical data closely, while usually overperforming.
